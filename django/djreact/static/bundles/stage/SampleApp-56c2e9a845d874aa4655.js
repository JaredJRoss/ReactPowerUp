webpackJsonp([2],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(3),c=n(s),u=a(26),d=a(301),f=n(d),h=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){return c["default"].createElement(f["default"],{user:user})}}]),t}(c["default"].Component);(0,u.render)(c["default"].createElement(h,null),document.getElementById("SampleApp"))},301:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(3),c=n(s),u=a(251),d=(n(u),a(117)),f=(n(d),a(255)),h=(n(f),a(259)),m=(n(h),a(102)),p=n(m);a(82);var y=function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={search_terms:"",url:"/api/search?",kiosks:[],dashboard:c["default"].createElement(p["default"],{start:"",end:"",date:"",search_terms:"",onUpdate:a.onUpdate.bind(a)}),date:"",end:"",start:""},fetch("/api/search",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return a.setState({kiosks:e})}),a.handleSearch=a.handleSearch.bind(a),a.refresh=a.refresh.bind(a),a}return i(t,e),o(t,[{key:"onUpdate",value:function(e,t,a){var n=this;fetch(this.state.url+"&date="+e+"&start="+t+"&end="+a,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return n.setState({kiosks:e})}),this.setState({date:e,start:t,end:a})}},{key:"refresh",value:function(e){var t=this;fetch(this.state.url+"&date="+this.state.date+"&start="+this.state.start+"&end="+this.state.end,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return t.setState({kiosks:e})}),this.setState({dashboard:c["default"].createElement(p["default"],{date:this.state.date,start:this.state.start,end:this.state.end,search_terms:this.state.search_terms,onUpdate:this.onUpdate.bind(this)})}),e.preventDefault()}},{key:"handleSearch",value:function(e){var t=this,a="",n="/api/search?",l=!0,r=!1,i=void 0;try{for(var o,s=this.Location.selectedOptions[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;a=a+"&Location="+u.value+"&"}}catch(d){r=!0,i=d}finally{try{!l&&s["return"]&&s["return"]()}finally{if(r)throw i}}var f=!0,h=!1,m=void 0;try{for(var y,v=this.Client.selectedOptions[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var E=y.value;a=a+"&Client="+E.value+"&"}}catch(d){h=!0,m=d}finally{try{!f&&v["return"]&&v["return"]()}finally{if(h)throw m}}var b=!0,g=!1,_=void 0;try{for(var k,S=this.Kiosk.selectedOptions[Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var O=k.value;a=a+"&ID="+O.value+"&"}}catch(d){g=!0,_=d}finally{try{!b&&S["return"]&&S["return"]()}finally{if(g)throw _}}var w=!0,N=!1,j=void 0;try{for(var C,x=this.Type.selectedOptions[Symbol.iterator]();!(w=(C=x.next()).done);w=!0){var T=C.value;a=a+"Type="+T.value+"&"}}catch(d){N=!0,j=d}finally{try{!w&&x["return"]&&x["return"]()}finally{if(N)throw j}}n+=a,this.setState({url:n,search_terms:a}),fetch(n+"&date="+this.state.date+"&start="+this.state.start+"&end="+this.state.end,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return t.setState({kiosks:e})}),this.setState({dashboard:c["default"].createElement(p["default"],{date:this.state.date,start:this.statestart,end:this.state.end,search_terms:a,onUpdate:this.onUpdate.bind(this)})}),e.preventDefault()}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"container",style:{paddingRight:"0px",paddingLeft:"0px"}},c["default"].createElement("section",null,c["default"].createElement("h1",null,"Overview Dashboard"),c["default"].createElement("div",{className:"spacing1"}),this.state.dashboard,c["default"].createElement("div",{style:{textAlign:"center"}},c["default"].createElement("a",{style:{text_decoration:"none"},href:"#hidden-div","data-target":"#hidden-div",className:"transparent_btn","data-toggle":"collapse"},"Advanced Search"),c["default"].createElement("div",{id:"hidden-div",className:"collapse",style:{color:"black"}},c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("form",{onSubmit:this.handleSearch},c["default"].createElement("fieldset",null,"Location: ",c["default"].createElement("select",{ref:function(t){return e.Location=t},name:"Location",className:"form-control",id:"id_Location","data-autocomplete-light-url":"/location-autocomplete/","data-autocomplete-light-function":"select2",multiple:"multiple"}),"     Client: ",c["default"].createElement("select",{ref:function(t){return e.Client=t},name:"Client",className:"form-control",id:"id_Client","data-autocomplete-light-url":"/client-autocomplete/","data-autocomplete-light-function":"select2",multiple:"multiple"}),c["default"].createElement("div",{className:"spacing1"}," "),"Station ID: ",c["default"].createElement("select",{name:"ID",ref:function(t){return e.Kiosk=t},className:"form-control",id:"id_ID","data-autocomplete-light-url":"/kiosk-autocomplete/","data-autocomplete-light-function":"select2",multiple:"multiple"}),"      Type: ",c["default"].createElement("select",{ref:function(t){return e.Type=t},name:"Type",className:"form-control",id:"id_Type","data-autocomplete-light-url":"/type-autocomplete/","data-autocomplete-light-function":"select2",multiple:"multiple"})),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("input",{style:{text_decoration:"none"},value:"Search",type:"submit",className:"transparent_btn"})))),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("h1",null,"Stations"),c["default"].createElement("div",{className:"spacing1"}," "),c["default"].createElement("table",{cellPadding:"5",cellSpacing:"5",border:"0",className:"table-responsive-lg"},c["default"].createElement("thead",{className:"tbl-header"},c["default"].createElement("tr",null,c["default"].createElement("th",null,"Online"),c["default"].createElement("th",null,"Station"),c["default"].createElement("th",null,"Client"),c["default"].createElement("th",null,"Location"),c["default"].createElement("th",null,"Last Charge"),c["default"].createElement("th",null,"Total Charge"),c["default"].createElement("th",null,"Action"),c["default"].createElement("th",null,c["default"].createElement("img",{style:{height:20},src:"/static/images/refresh.png",onClick:this.refresh})))),c["default"].createElement("tbody",{className:"tbl-content"},this.state.kiosks.map(function(e){return c["default"].createElement("tr",{key:e.ID,style:{height:12}},c["default"].createElement("td",null,e.online?c["default"].createElement("img",{style:{height:10},src:"/static/images/Green_sphere.png"}):c["default"].createElement("img",{style:{height:10},src:"/static/images/Red_sphere.png"})),c["default"].createElement("td",null,c["default"].createElement("a",{title:"More info",href:"/kiosk/"+e.ID},e.ID)),c["default"].createElement("td",null,e.Client),c["default"].createElement("td",null,e.Loc),c["default"].createElement("td",null,e.last_update),c["default"].createElement("td",null,e.Tot),c["default"].createElement("td",null," ",c["default"].createElement("a",{href:"/edit_kiosk/"+e.ID,style:{text_decoration:"none",lineHeight:"0%"},className:"transparent_btn"},"Edit")),c["default"].createElement("td",null))}))),c["default"].createElement("div",{className:"spacing1"}," ")))}}]),t}(c["default"].Component);t["default"]=y}});