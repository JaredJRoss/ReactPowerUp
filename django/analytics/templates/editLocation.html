{% extends "basePower.html" %}
{% block content %}

{% load widget_tweaks %}
{% load static %}
{% load auth_extras %}

    <script type="text/javascript" src="/static/admin/js/vendor/jquery/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'autocomplete_light/select2.css' %}" />
    <script type="text/javascript" src="{% static 'autocomplete_light/jquery.init.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/autocomplete.init.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/select2.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'autocomplete_light/vendor/select2/dist/css/select2.css' %}" />
    <script type="text/javascript" src="{% static 'autocomplete_light/vendor/select2/dist/js/select2.full.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/forward.js' %}"></script>
    <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>
    <script type = "text/javascript">
      function deleteLocation(){
        var pk = document.getElementById("id_Location").value;
        if (pk ===''){

          alert('Please pick a location')
        }
        else{
          var r = confirm("Are you sure you want to delete this location");
          if (r==true){document.getElementById("delete").href = "/delete-location/"+pk+"/"}
        }
      };
    </script>

    <div style = "  justify-content: center;">

    <div class="spacing1"></div>
    <h2>Edit Location</h2>
    <div class="spacing1"></div>

    <form method="POST" class="post-form">
      {% csrf_token %}
      Location : <select name="Location" style="display:inline-block" class="form-control" id="id_Location" data-autocomplete-light-url="/location-autocomplete/" data-autocomplete-light-function="select2"></select>
      <div class='spacing1'></div>
      Updated Location Name: {%render_field locationform.LocationName class="form-control" %}
      <div class='spacing1'></div>
      Updated Address: {%render_field locationform.Address class="form-control" %}
      <div class='spacing1'></div>
      Updated City: {%render_field locationform.City class="form-control" %}
      <div class='spacing1'></div>
      Updated State: {%render_field locationform.State class="form-control" %}
      <div class='spacing1'></div>
      Updated Zip: {%render_field locationform.Zip class="form-control" %}
      <div class='spacing1'></div>
      <button type = "submit">Edit Location</button>
    </form>
    <div class="spacing1"></div>
    <a style="text-decoration: none;" id="delete" href="#" onclick="deleteLocation()" ><button> Delete Location</button> </a>
    <div class="spacing1"></div>

    <a href = '{%url 'analytics:home'%}'><button>Home</button></a>
    <div class='spacing1'></div>
    <div class='spacing1'></div>
  </div>
    {% endblock %}
